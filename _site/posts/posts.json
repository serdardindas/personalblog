[
  {
    "path": "posts/2021-04-08-horizontal-stacked-bar-chart/",
    "title": "Horizontal Stacked Bar Chart",
    "description": "How to create single horizontal stacked bar chart with R",
    "author": [
      {
        "name": "Serdar DINDAS",
        "url": {}
      }
    ],
    "date": "2021-04-08",
    "categories": [],
    "contents": "\r\nHello Dear Rstats friends, with this post I will try to help you how you could create horizontal stacked bar chart. This is my first post i hope you enjoy.\r\nFirstly i want to show you an example of horizontal stacked chart.\r\n\r\nThis chart belongs to Unity’s 2021 GamingReport. Unity is world’s leading platform for creating games. If you’re a person who is game developer you must heard of this.\r\nSo in this chart we will see 4 components. 3 of it is our charts, one of it its’ labels. We will create this chart step by step.\r\nWe will use ggplot package to create each three charts, and patchwork package to combine all three charts. together.\r\nSTEP 1. / Data and Packages\r\nFirst we will call our packages\r\n\r\n\r\nlibrary(ggplot2)\r\nlibrary(patchwork)\r\nlibrary(dplyr) # To use a little trick\r\n\r\n\r\n\r\nNext we create our data frame\r\n\r\n\r\n df <- data.frame(Results = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\", \"Disagree\",\"Strongly Disagree\"),\r\n                       Proportion = c(50,19,6,13,13))\r\n\r\ndf <- df %>%  mutate(year=1) # This is little trick as I mentioned before. We add dummy variable like \"year\" as i used.\r\n\r\n\r\n\r\nSTEP 2. / Simple Chart\r\nAfter this step lets try to make our first basic graph.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + geom_col()\r\n\r\n\r\n\r\n\r\nYou see bar plot is stacked but vertically. Colors are defined randomly.\r\nSTEP 3. / Rest Of It :)\r\nNow we can turn the bar plot horizontally wit coord_flip() function\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        coord_flip()\r\n\r\n\r\n\r\n\r\nAt this time if you look closely to the labels, You may notice a discrepancy in the ranking of legends, they sorted in alphabetical order. To avoid from this situation we will factorize Results column. This will help you give all elements in Results column a specific order.\r\n\r\n\r\ndf$Results <- factor(df$Results, levels = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\",\r\n                                            \"Disagree\",\"Strongly Disagree\"))\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        coord_flip()\r\n\r\n\r\n\r\n\r\nNow we can adjust the appearance of colors in this stage. You can use google chrome extension “Eye Dropper” to extract colors codes. I chose colors to match the original.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n       coord_flip()  \r\n\r\n\r\n\r\n\r\nThis time we need show percentages like 50, 19, 6, 13, 13 on graph by colors. To do this we use geom_text() functions , with position and size arguments.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")), # Add labels \"%\" \r\n                      position = position_stack(vjust = 0.5), # Position each label center of each part.\r\n                      size = 5)+ # Size of labels\r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip() \r\n\r\n\r\n\r\n\r\nNow we change some appearance of graph in theme() function part. We make some\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), #Remove graphs grids, borders and background \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(), #Remove title, ticks and text parts\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+ #Remove title of legend\r\n              guides(fill = guide_legend(reverse=TRUE)) # Reverse legend order as it shows in report.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-04-08-horizontal-stacked-bar-chart/img/Unity_2021_Gaming_Report.png",
    "last_modified": "2021-04-09T14:16:16+03:00",
    "input_file": "horizontal-stacked-bar-chart.utf8.md"
  },
  {
    "path": "posts/2021-03-22-first-post/",
    "title": "First Post",
    "description": "Try to send my new post",
    "author": [
      {
        "name": "Serdar DINDAS",
        "url": {}
      }
    ],
    "date": "2021-03-22",
    "categories": [],
    "contents": "\r\nThis is my first blog post. I will use Netlify via Github\r\nThanks for Lisa Lendway for amazing distill package tutorial.\r\nAnd here is the motivation cutties from Allison Horst\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-03-22T14:57:02+03:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to My Blog",
    "description": "Stay tuned for upcoming posts",
    "author": [
      {
        "name": "Serdar DINDAS",
        "url": {}
      }
    ],
    "date": "2021-03-21",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-03-22T15:00:16+03:00",
    "input_file": {}
  }
]
