[
  {
    "path": "posts/2021-04-08-horizontal-stacked-bar-chart/",
    "title": "Horizontal Stacked Bar Chart",
    "description": "How to create single horizontal stacked bar chart with R",
    "author": [
      {
        "name": "Serdar DINDAS",
        "url": {}
      }
    ],
    "date": "2021-04-08",
    "categories": [],
<<<<<<< HEAD
    "contents": "\r\n\r\nContents\r\nSTEP 1. / Data and Packages\r\nSTEP 2. / Simple Start\r\nSTEP 3. / Rest Of It ðŸ˜„\r\n\r\nHello dear Rstats friends, with this post I will try to help you how you could create horizontal stacked bar chart. This is my first post i hope you enjoy.\r\nFirstly i want to show you an example of horizontal stacked chart.\r\n\r\nThis chart belongs to Unityâ€™s 2021 GamingReport. Unity is worldâ€™s leading platform for creating games. If youâ€™re a person who is game developer you must heard of it.\r\nSo in this chart we will see 4 components. 3 of it is our charts, one of it itsâ€™ labels. We will create this chart step by step.\r\nWe will use ggplot package to create each three charts, and patchwork package to combine all three charts. together.\r\nSTEP 1. / Data and Packages\r\nFirst we will call our packages\r\n\r\n\r\nlibrary(ggplot2)\r\nlibrary(patchwork)\r\nlibrary(dplyr) # To use a little trick\r\n\r\n\r\n\r\nNext we create our data frame\r\n\r\n\r\n df <- data.frame(Results = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\", \"Disagree\",\"Strongly Disagree\"),\r\n                       Proportion = c(50,19,6,13,13))\r\n\r\ndf <- df %>%  mutate(year=1) # This is little trick as I mentioned before. We add dummy variable like \"year\" as i used.\r\n\r\n\r\n\r\nSTEP 2. / Simple Start\r\nAfter this step lets try to make our first basic graph.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + geom_col()\r\n\r\n\r\n\r\n\r\nYou see bar plot is stacked but vertically. Colors are defined randomly.\r\nSTEP 3. / Rest Of It ðŸ˜„\r\nNow we can turn the bar plot horizontally with coord_flip() function.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        coord_flip()\r\n\r\n\r\n\r\n\r\nAt this time if you look closely to the labels, You may notice a discrepancy in the ranking of legends, they sorted in alphabetical order. To avoid from this situation we will factorize Results column. This will help you to give all elements, in Results column, a specific order.\r\n\r\n\r\ndf$Results <- factor(df$Results, levels = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\",\r\n                                            \"Disagree\",\"Strongly Disagree\"))\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        coord_flip()\r\n\r\n\r\n\r\n\r\nNow we can adjust the appearance of colors in this stage. You can use google chrome extension â€œEye Dropperâ€ to extract colors codes. I choose colors to match the original.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n       coord_flip()  \r\n\r\n\r\n\r\n\r\nThis time we need show percentages like 50, 19, 6, 13, 13 on graph by colors. To do this we use geom_text() functions , with position and size arguments.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")), # Add labels \"%\" \r\n                      position = position_stack(vjust = 0.5), # Position each label center of each part.\r\n                      size = 5)+ # Size of labels\r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip() \r\n\r\n\r\n\r\n\r\nNow we change some appearance of graph inside theme() function. We can remove graph grids, title, ticks.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), #Remove graphs grids, borders and background \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(), #Remove title, ticks and text parts\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+ #Remove title of legend\r\n              guides(fill = guide_legend(reverse=TRUE)) # Reverse legend order as it shows in report.\r\n\r\n\r\n\r\n\r\nAfter making this simple chart we can create 3 of them and combine together. This time we will use patchwork package to glue them.\r\nLetâ€™s create 3 part of horizontal stacked bar chart for different data. Each of this graphs will named p1, p2 and p3. If you want to check the code you can click Show code.\r\n\r\n\r\nShow code\r\n\r\ndf <- data.frame(Results = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\", \"Disagree\",\"Strongly Disagree\"),\r\n                       Proportion = c(50,19,6,13,13))\r\n\r\ndf <- df %>%  mutate(year=1) \r\n\r\ndf$Results <- factor(df$Results, levels = c(\"Strongly Agree\",\"Agree\",\r\n                                            \"Neither agree nor disagree\",\"Disagree\",\"Strongly Disagree\"))\r\n\r\np1 <-ggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(),\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+\r\n              guides(fill = guide_legend(reverse=TRUE))\r\n\r\ndf2 <- df %>% mutate(Proportion2=c(25,25,13,13,6))\r\n\r\ndf3 <- df %>% mutate(Proportion3=c(19,25,19,25,13)) \r\n\r\n\r\np2 <-ggplot(df2, aes(x = year , y = Proportion2, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion2, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(),\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+\r\n              guides(fill = guide_legend(reverse=TRUE))\r\n\r\np3 <-ggplot(df3, aes(x = year , y = Proportion3, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion3, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(),\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+\r\n              guides(fill = guide_legend(reverse=TRUE))\r\n\r\n\r\n\r\nWith patchwork package you can combine graphs side by side with â€œ+â€ or under each other with â€œ/â€.\r\n\r\n\r\np1 / p2 / p3 & theme(legend.position = \"right\",\r\n                     legend.text = element_text(size=15))\r\n\r\n\r\n\r\n\r\nYou see each graphs bring their legends with them. So legend part repeat 3 times. To prevent labels from repeating, we will add last line of code plot_layout(guides = â€œcollectâ€)\r\n\r\n\r\np <- p1 / p2 / p3 & theme(legend.position = \"right\",\r\n                          legend.text = element_text(size=15))\r\n                    \r\np + plot_layout(guides = \"collect\")\r\n\r\n\r\n\r\n\r\nI thinks two graphs nearly match except one point that Reports graphâ€™s legends at the top right but our graphâ€™s legend is at the middle right. I belive this can be ignored.\r\nThanks for reading my post. Please donâ€™t hesitate to say your feedback by \r\nAlso special thanks to my wife Zeliha Dindas for support and code review ðŸ¤—\r\n\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- This Post Made with by â¤ï¸ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-04-10T23:07:26+03:00",
=======
    "contents": "\r\n\r\nContents\r\nSTEP 1. / Data and Packages\r\nSTEP 2. / Simple Start\r\nSTEP 3. / Rest Of It :)\r\n\r\nHello dear Rstats friends, with this post I will try to help you how you could create horizontal stacked bar chart. This is my first post i hope you enjoy.\r\nFirstly i want to show you an example of horizontal stacked chart.\r\n\r\nThis chart belongs to Unityâ€™s 2021 GamingReport. Unity is worldâ€™s leading platform for creating games. If youâ€™re a person who is game developer you must heard of it.\r\nSo in this chart we will see 4 components. 3 of it is our charts, one of it itsâ€™ labels. We will create this chart step by step.\r\nWe will use ggplot package to create each three charts, and patchwork package to combine all three charts. together.\r\nSTEP 1. / Data and Packages\r\nFirst we will call our packages\r\n\r\n\r\nlibrary(ggplot2)\r\nlibrary(patchwork)\r\nlibrary(dplyr) # To use a little trick\r\n\r\n\r\n\r\nNext we create our data frame\r\n\r\n\r\n df <- data.frame(Results = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\", \"Disagree\",\"Strongly Disagree\"),\r\n                       Proportion = c(50,19,6,13,13))\r\n\r\ndf <- df %>%  mutate(year=1) # This is little trick as I mentioned before. We add dummy variable like \"year\" as i used.\r\n\r\n\r\n\r\nSTEP 2. / Simple Start\r\nAfter this step lets try to make our first basic graph.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + geom_col()\r\n\r\n\r\n\r\n\r\nYou see bar plot is stacked but vertically. Colors are defined randomly.\r\nSTEP 3. / Rest Of It :)\r\nNow we can turn the bar plot horizontally with coord_flip() function.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        coord_flip()\r\n\r\n\r\n\r\n\r\nAt this time if you look closely to the labels, You may notice a discrepancy in the ranking of legends, they sorted in alphabetical order. To avoid from this situation we will factorize Results column. This will help you to give all elements, in Results column, a specific order.\r\n\r\n\r\ndf$Results <- factor(df$Results, levels = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\",\r\n                                            \"Disagree\",\"Strongly Disagree\"))\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        coord_flip()\r\n\r\n\r\n\r\n\r\nNow we can adjust the appearance of colors in this stage. You can use google chrome extension â€œEye Dropperâ€ to extract colors codes. I choose colors to match the original.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n       coord_flip()  \r\n\r\n\r\n\r\n\r\nThis time we need show percentages like 50, 19, 6, 13, 13 on graph by colors. To do this we use geom_text() functions , with position and size arguments.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")), # Add labels \"%\" \r\n                      position = position_stack(vjust = 0.5), # Position each label center of each part.\r\n                      size = 5)+ # Size of labels\r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip() \r\n\r\n\r\n\r\n\r\nNow we change some appearance of graph inside theme() function. We can remove graph grids, title, ticks.\r\n\r\n\r\nggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), #Remove graphs grids, borders and background \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(), #Remove title, ticks and text parts\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+ #Remove title of legend\r\n              guides(fill = guide_legend(reverse=TRUE)) # Reverse legend order as it shows in report.\r\n\r\n\r\n\r\n\r\nAfter making this simple chart we can create 3 of them and combine together. This time we will use patchwork package to glue them.\r\nLetâ€™s create 3 part of horizontal stacked bar chart for different data. Each of this graphs will named p1, p2 and p3. If you want to check the code you can click Show code.\r\n\r\n\r\nShow code\r\n\r\ndf <- data.frame(Results = c(\"Strongly Agree\",\"Agree\", \"Neither agree nor disagree\", \"Disagree\",\"Strongly Disagree\"),\r\n                       Proportion = c(50,19,6,13,13))\r\n\r\ndf <- df %>%  mutate(year=1) \r\n\r\ndf$Results <- factor(df$Results, levels = c(\"Strongly Agree\",\"Agree\",\r\n                                            \"Neither agree nor disagree\",\"Disagree\",\"Strongly Disagree\"))\r\n\r\np1 <-ggplot(df, aes(x = year , y = Proportion, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(),\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+\r\n              guides(fill = guide_legend(reverse=TRUE))\r\n\r\ndf2 <- df %>% mutate(Proportion2=c(25,25,13,13,6))\r\n\r\ndf3 <- df %>% mutate(Proportion3=c(19,25,19,25,13)) \r\n\r\n\r\np2 <-ggplot(df2, aes(x = year , y = Proportion2, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion2, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(),\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+\r\n              guides(fill = guide_legend(reverse=TRUE))\r\n\r\np3 <-ggplot(df3, aes(x = year , y = Proportion3, fill = Results)) + \r\n        geom_col()+\r\n        geom_text(aes(label = paste0(Proportion3, \"%\")),\r\n                      position = position_stack(vjust = 0.5), \r\n                      size = 5)+ \r\n        scale_fill_manual(values = c(\"#67bc6b\",\"#d2e059\",\"#ffcb27\",\"#f37021\",\"#ed5351\"))+\r\n        coord_flip()+ \r\n        theme(legend.position = \"right\",\r\n              panel.grid.major = element_blank(), \r\n              panel.grid.minor = element_blank(),\r\n              panel.border = element_blank(),\r\n              panel.background = element_blank(), \r\n              axis.title = element_blank(),\r\n              axis.ticks = element_blank(),\r\n              axis.text = element_blank(),\r\n              legend.title = element_blank())+\r\n              guides(fill = guide_legend(reverse=TRUE))\r\n\r\n\r\n\r\nWith patchwork package you can combine graphs side by side with â€œ+â€ or under each other with â€œ/â€.\r\n\r\n\r\np1 / p2 / p3 & theme(legend.position = \"right\",\r\n                     legend.text = element_text(size=15))\r\n\r\n\r\n\r\n\r\nYou see each graphs bring their legends with them. So legend part repeat 3 times. To prevent labels from repeating, we will add last line of code plot_layout(guides = â€œcollectâ€)\r\n\r\n\r\np <- p1 / p2 / p3 & theme(legend.position = \"right\",\r\n                          legend.text = element_text(size=15))\r\n                    \r\np + plot_layout(guides = \"collect\")\r\n\r\n\r\n\r\n\r\nI thinks two graphs nearly match except one point that Reports graphâ€™s legends at the top right but our graphâ€™s legend is at the middle right. I belive this can be ignored.\r\nThanks for reading my post. Please donâ€™t hesitate to say your feedback by \r\nAlso special thanks to my wife Zeliha Dindas for support and code review ðŸ¤—\r\n\r\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- This Post Made with by â¤ï¸ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-04-08-horizontal-stacked-bar-chart/horizontal-stacked-bar-chart_files/figure-html5/unnamed-chunk-8-1.png",
    "last_modified": "2021-04-10T22:56:04+03:00",
>>>>>>> dcd1def9f8d65a716738fc05e24c5e17b51c41b0
    "input_file": "horizontal-stacked-bar-chart.utf8.md"
  },
  {
    "path": "posts/2021-03-22-first-post/",
    "title": "First Post",
    "description": "Try to send my new post",
    "author": [
      {
        "name": "Serdar DINDAS",
        "url": {}
      }
    ],
    "date": "2021-03-22",
    "categories": [],
    "contents": "\r\nThis is my first blog post. I will use Netlify via Github\r\nThanks for Lisa Lendway for amazing distill package tutorial.\r\nAnd here is the motivation cutties from Allison Horst\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-03-22T14:57:02+03:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to My Blog",
    "description": "Stay tuned for upcoming posts",
    "author": [
      {
        "name": "Serdar DINDAS",
        "url": {}
      }
    ],
    "date": "2021-03-21",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-03-22T15:00:16+03:00",
    "input_file": {}
  }
]
